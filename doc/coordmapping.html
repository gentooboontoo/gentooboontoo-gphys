<?xml version="1.0" ?>
<!DOCTYPE html 
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>../lib/numru/gphys/coordmapping.rb</title>
</head>
<body>
<h1><a name="label-0" id="label-0">class CoordMapping</a></h1><!-- RDLabel: "class CoordMapping" -->
<h2><a name="label-1" id="label-1">Overview</a></h2><!-- RDLabel: "Overview" -->
<p>Mapping of a coordinate to another. It supports analytic and 
grid-point-based mapping in subclasses. Here in this root
CoordMapping class only the invariant unity mapping (or no mapping)
is defined.</p>
<h2><a name="label-2" id="label-2">Class methods</a></h2><!-- RDLabel: "Class methods" -->
<dl>
<dt><h4><a name="label-3" id="label-3"><code>CoordMapping.new</code></a></h4></dt><!-- RDLabel: "CoordMapping.new" -->
<dd>
Constructor. One or more arguments can be needed in subclasses</dd>
</dl>
<h2><a name="label-4" id="label-4">Methods</a></h2><!-- RDLabel: "Methods" -->
<dl>
<dt><h4><a name="label-5" id="label-5"><code>map(<var>x</var>,<var>y</var>,<var>z</var>,...)</code></a></h4></dt><!-- RDLabel: "map" -->
<dd>
<p>Maps data point(s)</p>
<p>ARGUMENTS</p>
<ul>
<li>x,y,z,... (one or more Numeric or NArray) : data points. 
       Mapping is made of [x,y,z,..] (if Numeric) or 
       [x[0],y[0],z[0],..], [x[1],y[1],z[1],..], ..(if NArray).
       Thus, the number of arguments must be equal to the rank of 
       the mapping. Also, their lengths must agree with each other.</li>
</ul>
<p>RETURN VALUE</p>
<ul>
<li>Array of p,q,r,... (Numeric or NArray) : mapping result</li>
</ul></dd>
<dt><h4><a name="label-6" id="label-6"><code>map_grid(<var>x</var>,<var>y</var>,<var>z</var>,...)</code></a></h4></dt><!-- RDLabel: "map_grid" -->
<dd>
<p>Same as <a href="#label-5">map</a> but for a regular grid.</p>
<p>ARGUMENTS</p>
<ul>
<li>x,y,z,... (one or more 1D NArray) : coordinate values of
       a regular grid [x_i, y_j, z_k,..].  The shape of the grid is thus 
       [x.length, y.length, z.length,..]. This method needs no redefinition,
       since it calls <a href="#label-5">map</a> inside.</li>
</ul></dd>
<dt><h4><a name="label-7" id="label-7"><code>inverse_map(<var>p</var>,<var>q</var>,<var>r</var>,...)</code></a></h4></dt><!-- RDLabel: "inverse_map" -->
<dd>
<p>Inversely maps data point(s).</p>
<p>ARGUMENTS</p>
<ul>
<li>p,q,r,... (one or more Numeric or NArray) : data points. 
       Inverse mapping is made of [p,q,r,..] (if Numeric) or 
       [p[0],q[0],r[0],..], [p[1],q[1],r[1],..], ..(if NArray).
       Thus, the number of arguments must be equal to the rank of 
       the mapping. Also, if NArray, their lengths must agree with each other.</li>
</ul>
<p>RETURN VALUE</p>
<ul>
<li>Array of x,y,z,... (Numeric or NArray) : inverse mapping result</li>
</ul></dd>
<dt><h4><a name="label-8" id="label-8"><code>inverse</code></a></h4></dt><!-- RDLabel: "inverse" -->
<dd>
<p>Returns the inverse mapping.</p>
<p>RETURN VALUE</p>
<ul>
<li>a CoordMapping</li>
</ul></dd>
<dt><h4><a name="label-9" id="label-9"><code>inversion_rigorous?</code></a></h4></dt><!-- RDLabel: "inversion_rigorous?" -->
<dd>
<p>Whether the inversion is rigorous (analytical)</p>
<p>RETURN VALUE</p>
<ul>
<li>true or false</li>
</ul></dd>
</dl>
<h1><a name="label-10" id="label-10">class LinearCoordMapping &lt; CoordMapping</a></h1><!-- RDLabel: "class LinearCoordMapping < CoordMapping" -->
<h2><a name="label-11" id="label-11">Overview</a></h2><!-- RDLabel: "Overview" -->
<p>Linear coordinate mapping expressed as offset + factor*x,
where offset is a vector (NVect) and factor is a matrix (NMatrix).</p>
<p>Methods listed below are only those newly defined or those whose 
arguments are changed.</p>
<h2><a name="label-12" id="label-12">Class methods</a></h2><!-- RDLabel: "Class methods" -->
<dl>
<dt><h4><a name="label-13" id="label-13"><code>LinearCoordMapping.new(<var>offset</var>=<var>nil</var>, <var>factor</var>=<var>nil</var>)</code></a></h4></dt><!-- RDLabel: "LinearCoordMapping.new" -->
<dd>
<p>Constructor. If one of offset and factor is not 
specified (nil), a zero vector / a unit matrix is used (at least 
one of them must be given).</p>
<p>ARGUMENTS</p>
<ul>
<li>offset (NVector or nil) : the offset. Its length represents the rank
       of mapping. (if nil a zero vector is assumed)</li>
<li>factor (NMatrix or nil) : the factor. For consistency, 
       ( offset.length == factor.shape[0] == factor.shape[1] ) is required.</li>
</ul></dd>
</dl>
<h2><a name="label-14" id="label-14">Methods</a></h2><!-- RDLabel: "Methods" -->
<dl>
<dt><h4><a name="label-15" id="label-15"><code>offset</code></a></h4></dt><!-- RDLabel: "offset" -->
<dd>
Returns the internally stored offset.</dd>
<dt><h4><a name="label-16" id="label-16"><code>factor</code></a></h4></dt><!-- RDLabel: "factor" -->
<dd>
Returns the internally stored factor.</dd>
</dl>

</body>
</html>
